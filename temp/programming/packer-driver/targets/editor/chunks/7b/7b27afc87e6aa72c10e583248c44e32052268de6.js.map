{"version":3,"sources":["file:///Users/swl/Desktop/cocos/cocos%E5%AE%89%E5%8D%93%E5%A4%87%E4%BB%BD/assets/scripts/settleTs.ts"],"names":["_decorator","Component","Label","game","sys","awardCl","popcontrol","coinCreate","ccclass","property","settleTs","overTime","overTimer","start","openTimeOut","setInterval","closeCount","string","toString","closeSettle","clearInterval","node","getChildByName","getComponent","clearData","parent","popNum","active","os","OS","ANDROID","isNative","releaseAny","setTimeout","end","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,K,OAAAA,K;AAAiBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,G,OAAAA,G;;AACpDC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;0BAGjBU,Q,WADZF,OAAO,CAAC,UAAD,C,UAEHC,QAAQ,CAACP,KAAD,C,2BAFb,MACaQ,QADb,SAC8BT,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA,eAGpCU,QAHoC,GAGjB,EAHiB;AAAA,eAIpCC,SAJoC,GAIxB,IAJwB;AAAA;;AAKpCC,QAAAA,KAAK,GAAG,CACP;;AAEDC,QAAAA,WAAW,GAAG;AACV,eAAKF,SAAL,GAAiBG,WAAW,CAAC,MAAM;AAC/B,gBAAI,KAAKJ,QAAL,GAAgB,CAApB,EAAuB;AACnB,mBAAKA,QAAL;AACA,mBAAKK,UAAL,CAAgBC,MAAhB,GAAyB,KAAKN,QAAL,CAAcO,QAAd,EAAzB;AACH,aAHD,MAGO;AACH,mBAAKC,WAAL;AACH;AACJ,WAP2B,EAOzB,IAPyB,CAA5B;AAQH;;AAEDA,QAAAA,WAAW,GAAG;AACV,cAAI,KAAKP,SAAL,IAAkB,IAAtB,EAA4B;AACxBQ,YAAAA,aAAa,CAAC,KAAKR,SAAN,CAAb;AACA,iBAAKA,SAAL,GAAiB,IAAjB;AACA,iBAAKD,QAAL,GAAgB,EAAhB;AACA,iBAAKK,UAAL,CAAgBC,MAAhB,GAAyB,KAAKN,QAAL,CAAcO,QAAd,EAAzB;AACH;;AACD,eAAKG,IAAL,CAAUC,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEC,YAArE;AAAA;AAAA,kCAA2FC,SAA3F;AACA,eAAKH,IAAL,CAAUI,MAAV,CAAiBF,YAAjB;AAAA;AAAA,wCAA0CG,MAA1C;AACA,eAAKL,IAAL,CAAUM,MAAV,GAAmB,KAAnB;;AACA,cAAI,KAAKN,IAAL,CAAUI,MAAV,CAAiBF,YAAjB;AAAA;AAAA,wCAA0CG,MAA1C,IAAoD,CAAxD,EAA2D;AACvD,iBAAKL,IAAL,CAAUI,MAAV,CAAiBE,MAAjB,GAA0B,KAA1B;AACH;;AACD,cAAIvB,GAAG,CAACwB,EAAJ,IAAUxB,GAAG,CAACyB,EAAJ,CAAOC,OAAjB,IAA4B1B,GAAG,CAAC2B,QAApC,EAA8C;AAC1C,iBAAKV,IAAL,CAAUI,MAAV,CAAiBA,MAAjB,CAAwBA,MAAxB,CAA+BA,MAA/B,CAAsCF,YAAtC;AAAA;AAAA,0CAA+DS,UAA/D;AACA,iBAAKX,IAAL,CAAUI,MAAV,CAAiBA,MAAjB,CAAwBA,MAAxB,CAA+BA,MAA/B,CAAsCE,MAAtC,GAA+C,KAA/C;AACA,iBAAKN,IAAL,CAAUI,MAAV,CAAiBA,MAAjB,CAAwBA,MAAxB,CAA+BA,MAA/B,CAAsCA,MAAtC,CAA6CH,cAA7C,CAA4D,UAA5D,EAAwEK,MAAxE,GAAiF,IAAjF;AACAM,YAAAA,UAAU,CAAC,MAAM;AACb9B,cAAAA,IAAI,CAAC+B,GAAL;AACH,aAFS,EAEP,IAFO,CAAV;AAGH,WAPD,MAOO;AACH/B,YAAAA,IAAI,CAAC+B,GAAL;AACH;AACJ;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA9CmC,O;;;;;iBAEhB,I","sourcesContent":["import { _decorator, Component, Node, Label, director, game, sys, native, assetManager } from 'cc';\nimport { awardCl } from './awardCl';\nimport { popcontrol } from './popcontrol';\nimport { coinCreate } from './coinCreate';\nconst { ccclass, property } = _decorator;\n\n@ccclass('settleTs')\nexport class settleTs extends Component {\n    @property(Label)\n    closeCount: Label = null;\n    overTime: number = 10\n    overTimer = null\n    start() {\n    }\n\n    openTimeOut() {\n        this.overTimer = setInterval(() => {\n            if (this.overTime > 0) {\n                this.overTime--\n                this.closeCount.string = this.overTime.toString()\n            } else {\n                this.closeSettle()\n            }\n        }, 1000)\n    }\n\n    closeSettle() {\n        if (this.overTimer != null) {\n            clearInterval(this.overTimer)\n            this.overTimer = null\n            this.overTime = 10\n            this.closeCount.string = this.overTime.toString()\n        }\n        this.node.getChildByName('symbol_node').getChildByName('award_node').getComponent(awardCl).clearData()\n        this.node.parent.getComponent(popcontrol).popNum--;\n        this.node.active = false\n        if (this.node.parent.getComponent(popcontrol).popNum == 0) {\n            this.node.parent.active = false\n        }\n        if (sys.os == sys.OS.ANDROID && sys.isNative) {\n            this.node.parent.parent.parent.parent.getComponent(coinCreate).releaseAny()\n            this.node.parent.parent.parent.parent.active = false;\n            this.node.parent.parent.parent.parent.parent.getChildByName('GameOver').active = true\n            setTimeout(() => {\n                game.end();\n            }, 1500);\n        } else {\n            game.end()\n        }\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}