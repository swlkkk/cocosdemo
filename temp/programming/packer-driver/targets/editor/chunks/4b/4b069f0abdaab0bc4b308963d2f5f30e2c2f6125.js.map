{"version":3,"sources":["file:///Users/swl/Downloads/cocosPusher/assets/scripts/settleTs.ts"],"names":["_decorator","Component","Label","director","game","sys","awardCl","popcontrol","ccclass","property","settleTs","overTime","overTimer","start","openTimeOut","setInterval","closeCount","string","toString","closeSettle","clearInterval","node","getChildByName","getComponent","clearData","parent","popNum","active","isNative","os","OS","IOS","OSX","loadScene","end","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,G,OAAAA,G;;AACpDC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;0BAGjBU,Q,WADZF,OAAO,CAAC,UAAD,C,UAEHC,QAAQ,CAACP,KAAD,C,2BAFb,MACaQ,QADb,SAC8BT,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA,eAGpCU,QAHoC,GAGjB,EAHiB;AAAA,eAIpCC,SAJoC,GAIxB,IAJwB;AAAA;;AAKpCC,QAAAA,KAAK,GAAG,CACP;;AAEDC,QAAAA,WAAW,GAAG;AACV,eAAKF,SAAL,GAAiBG,WAAW,CAAC,MAAI;AAC7B,gBAAG,KAAKJ,QAAL,GAAgB,CAAnB,EAAsB;AAClB,mBAAKA,QAAL;AACA,mBAAKK,UAAL,CAAgBC,MAAhB,GAAyB,KAAKN,QAAL,CAAcO,QAAd,EAAzB;AACH,aAHD,MAGO;AACH,mBAAKC,WAAL;AACH;AACJ,WAP2B,EAO1B,IAP0B,CAA5B;AAQH;;AAEDA,QAAAA,WAAW,GAAG;AACV,cAAG,KAAKP,SAAL,IAAkB,IAArB,EAA2B;AACvBQ,YAAAA,aAAa,CAAC,KAAKR,SAAN,CAAb;AACA,iBAAKA,SAAL,GAAiB,IAAjB;AACA,iBAAKD,QAAL,GAAgB,EAAhB;AACA,iBAAKK,UAAL,CAAgBC,MAAhB,GAAyB,KAAKN,QAAL,CAAcO,QAAd,EAAzB;AACH;;AACD,eAAKG,IAAL,CAAUC,cAAV,CAAyB,aAAzB,EAAwCA,cAAxC,CAAuD,YAAvD,EAAqEC,YAArE;AAAA;AAAA,kCAA2FC,SAA3F;AACA,eAAKH,IAAL,CAAUI,MAAV,CAAiBF,YAAjB;AAAA;AAAA,wCAA0CG,MAA1C;AACA,eAAKL,IAAL,CAAUM,MAAV,GAAmB,KAAnB;;AACA,cAAG,KAAKN,IAAL,CAAUI,MAAV,CAAiBF,YAAjB;AAAA;AAAA,wCAA0CG,MAA1C,IAAoD,CAAvD,EAA0D;AACtD,iBAAKL,IAAL,CAAUI,MAAV,CAAiBE,MAAjB,GAA0B,KAA1B;AACH;;AACD,cAAGtB,GAAG,CAACuB,QAAJ,KAAiBvB,GAAG,CAACwB,EAAJ,IAAUxB,GAAG,CAACyB,EAAJ,CAAOC,GAAjB,IAAwB1B,GAAG,CAACwB,EAAJ,IAAUxB,GAAG,CAACyB,EAAJ,CAAOE,GAA1D,CAAH,EAAmE;AAC/D7B,YAAAA,QAAQ,CAAC8B,SAAT,CAAmB,eAAnB;AACH,WAFD,MAEO;AACH7B,YAAAA,IAAI,CAAC8B,GAAL;AACH;AACJ;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAzCmC,O;;;;;iBAEhB,I","sourcesContent":["import { _decorator, Component, Node, Label, director, game, sys, native, assetManager } from 'cc';\nimport { awardCl } from './awardCl';\nimport { popcontrol } from './popcontrol';\nconst { ccclass, property } = _decorator;\n\n@ccclass('settleTs')\nexport class settleTs extends Component {\n    @property(Label)\n    closeCount: Label = null;\n    overTime: number = 10\n    overTimer = null\n    start() {\n    }\n    \n    openTimeOut() {\n        this.overTimer = setInterval(()=>{\n            if(this.overTime > 0) {\n                this.overTime--\n                this.closeCount.string = this.overTime.toString()\n            } else {\n                this.closeSettle()\n            }\n        },1000)\n    }\n\n    closeSettle() {\n        if(this.overTimer != null) {\n            clearInterval(this.overTimer)\n            this.overTimer = null\n            this.overTime = 10\n            this.closeCount.string = this.overTime.toString()\n        }\n        this.node.getChildByName('symbol_node').getChildByName('award_node').getComponent(awardCl).clearData()\n        this.node.parent.getComponent(popcontrol).popNum--;\n        this.node.active = false\n        if(this.node.parent.getComponent(popcontrol).popNum == 0) {\n            this.node.parent.active = false\n        }\n        if(sys.isNative && (sys.os == sys.OS.IOS || sys.os == sys.OS.OSX)) {\n            director.loadScene(\"scene-quality\");\n        } else {\n            game.end()\n        }\n    }\n    \n    update(deltaTime: number) {\n        \n    }\n}\n\n"]}