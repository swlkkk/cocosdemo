{"version":3,"sources":["file:///Users/swl/Desktop/cocos/cocos_android1/assets/scripts/coinCreate.ts"],"names":["_decorator","Component","game","sys","ccclass","property","coinCreate","onLoad","start","console","log","releaseAny","closeOut","os","OS","ANDROID","isNative","node","getChildByName","active","setTimeout","garbageCollect","end","update","deltaTime"],"mappings":";;;;;;;;;;AACIA,MAAAA,U,OAAAA,U;AACAC,MAAAA,S,OAAAA,S;AAKAC,MAAAA,I,OAAAA,I;AAMAC,MAAAA,G,OAAAA,G;;;;;;;;;OAIE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U,GAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;4BAEaM,U,WADZF,OAAO,CAAC,YAAD,C,gBAAR,MACaE,UADb,SACgCL,SADhC,CAC0C;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAM,QAAAA,MAAM,GAAG,CACR;;AACDC,QAAAA,KAAK,GAAG;AACJC,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EADI,CAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AACDC,QAAAA,UAAU,GAAG,CACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,SAjLqC,CAkLtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAC,QAAAA,QAAQ,GAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAIT,GAAG,CAACU,EAAJ,IAAUV,GAAG,CAACW,EAAJ,CAAOC,OAAjB,IAA4BZ,GAAG,CAACa,QAApC,EAA8C;AAC1C,iBAAKC,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCC,MAAnC,GAA4C,KAA5C;AACA,iBAAKF,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,QAAlD,EAA4DC,MAA5D,GAAqE,IAArE;AACAC,YAAAA,UAAU,CAAC,MAAM;AACbX,cAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAP,cAAAA,GAAG,CAACkB,cAAJ;AACAnB,cAAAA,IAAI,CAACoB,GAAL;AACH,aAJS,EAIP,IAJO,CAAV;AAKH,WARD,MAQO;AACH,iBAAKL,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCC,MAAnC,GAA4C,KAA5C;AACA,iBAAKF,IAAL,CAAUC,cAAV,CAAyB,QAAzB,EAAmCA,cAAnC,CAAkD,QAAlD,EAA4DC,MAA5D,GAAqE,IAArE;AACAC,YAAAA,UAAU,CAAC,MAAM;AACbX,cAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAP,cAAAA,GAAG,CAACkB,cAAJ;AACAnB,cAAAA,IAAI,CAACoB,GAAL;AACH,aAJS,EAIP,IAJO,CAAV;AAKH;AACJ,SA95BqC,CA+5BtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CACzB;;AAlsCqC,O","sourcesContent":["import {\n    _decorator,\n    Component,\n    Node,\n    Prefab,\n    input,\n    Input,\n    game,\n    Game,\n    Vec3,\n    RigidBody,\n    instantiate,\n    Label,\n    sys,\n    native,\n    director\n} from 'cc';\nconst { ccclass, property } = _decorator;\n// import { poolManager } from './poolManager';\n// import { gameCore } from './gameCore';\n// import { machine } from './machine';\n// import { ddlts } from './ddlts';\n// import { xmlts } from './xmlts';\n// import { lxts } from './lxts';\n// import { jpts } from './jpts';\n// import { xmlAnim } from './xmlAnim';\n// import { socketApi } from './Socket/socketApi';\n// import { apiRequest } from './Api/apiRequest';\n// import { spin } from './spin';\n// import { maints } from './maints';\n// import { jpScorets } from './jpScorets';\n// import { encrypt } from './Api/encrypt';\n// import { socketFun } from './Socket/socketFun';\n// import { MD5 } from './Api/MD5';\n// import { awardCl } from './awardCl';\n// import * as i18n from 'db://i18n/LanguageData';\n// import { popcontrol } from './popcontrol';\n// import { dcountChange } from './dcountChange';\n// import { autoDropTs } from './autoDropTs';\n// import { AudioMgr } from './AudioMgr'\n@ccclass('coinCreate')\nexport class coinCreate extends Component {\n    // @property(Prefab)\n    // preCoin: Prefab = null; //金币预制体\n    // @property(Node)\n    // ndCoinParent: Node = null!; //金币父节点\n    // intervalEnd: number = 0\n    // // socket变量\n    // ws = null;\n    // websocket = null;\n    // winning = false;\n    // autoTimer = null;\n    // autoNumber = 0;\n    // autoTarget = 0;\n    // awardType = -1; // 当前奖项(0:连线奖; 1:小玛丽; 2:叠叠乐; 3:jp1; 4:jp2; 5:jp3; 6:全盘奖)\n    // xmlSwitch = false; // 小玛丽特殊开关\n    // xmltime = 0; // 小玛丽投币时间\n    // xmlnum = 0; // 小玛丽点击次数\n    // xmltimer = null; // 小玛丽60s倒计时\n    // ddlSwitch = false; // 叠叠乐特殊开关\n    // ddltime = 0; // 叠叠乐投币时间\n    // ddltimer = null; // 叠叠乐倒计时\n    // ddlOne = null;\n    // ddlauto = false;\n    // // 中奖金币\n    // zjCoins = null\n    // // ddl总中奖金额\n    // ddlscore = 0\n    // ddlArr = {}\n    // ddlycArr = {}\n    // // 小玛丽数组\n    // xmlcoinArr = null\n    // xmlOut = [0, 6, 10, 16]\n    // // 上机信息\n    // userId = null\n    // billId = null\n    // recordId = null\n    // channelCount = null\n    // // 防止卡币\n    // isDropMessageNotBack = false\n    // // 断线重连\n    // isConnecting = false\n    // isReConnecting = false\n    // reConnectTimer = null\n    // reCountNum = null\n    // // 用户金币\n    // userCoins = null\n    // // 用户信息\n    // userData = null\n    // token = null\n    // // wsuuid\n    // wsuuid = null;\n    // wssaltLen = Math.round(8 * Math.random() + 8)\n    // wssalt = null;\n    // // 上机后命令\n    // websocketFnc = null;\n    // // 特殊处理\n    // allowed = false\n    // no = 0\n    // price = 0\n    // // 上级状态\n    // isDroped = false\n    // vpinitRes = null\n    // Md5 = null\n    // // 当前投币次数状态\n    // dropStatus = 1\n    // // 一次3币计时器\n    // dropThree = null\n    // dropThreeCount = 0\n    // // 自动投币\n    // autoStatus = false\n    // autoCount = 1\n    // autoSpeed = 1\n    // autoTips = false\n    // autoftm = null\n    // autostm = null\n    // autottm = null\n    // // 进入房间就开启5分钟倒计时\n    // fiveTime = 300\n    // fiveTimer = null\n    // // 全局声音控制\n    // soundApi = null\n    // soundStatus: boolean = false\n    // activeClosed = false\n    // soLink = false\n    // Api = null\n    onLoad() {\n    }\n    start() {\n        console.log('coincreate这个地方初始化');\n        // if (sys.os == sys.OS.ANDROID && sys.isNative) {\n        //     // 获取声音\n        //     let a = native.reflection.callStaticMethod(\"com/lotogram/tbjdwc/mvvm/ui/activity/TuibiDevicesActivity\", \"getSound\", \"()Z\");\n        //     this.soundStatus = true\n        //     if (this.soundStatus) {\n        //         this.playMusic('music/bgMusic')\n        //     } else {\n        //         this.soundStatus = false\n        //     }\n        //     native.bridge.onNative = (arg0: string, arg1: string): void => {\n        //         if (arg0 == 'cocos_update_user') {\n        //             this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('pop_node').getComponent(popcontrol).controlCharge(false)\n        //             this.userData = JSON.parse(arg1)\n        //             this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('avatarBox').getChildByName('vip_box').getChildByName('Label').getComponent(Label).string = this.userData.vip\n        //             this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('user_property').getChildByName('click_box').getChildByName('coin_label').getComponent(Label).string = this.fillter(this.userData.coins)\n        //         }\n        //         return;\n        //     }\n        // }\n        // window.addEventListener('offline', () => {\n        //     if (!this.isReConnecting) {\n        //         this.isDropMessageNotBack = false\n        //         if (this.autoStatus) {\n        //             this.autoStatus = false\n        //             this.autoSwitch()\n        //         }\n        //         if (this.winning) {\n        //             if (this.autoTimer != null) {\n        //                 clearInterval(this.autoTimer)\n        //             }\n        //         }\n        //         this.isReConnecting = true\n        //         setTimeout(() => {\n        //             this.tryConnect();\n        //         }, 5000);\n        //     }\n        // });\n        // // /* 正常投币 */\n        // input.on(Input.EventType.TOUCH_END, this.touchEnd, this)\n        // // /* 小玛丽 */\n        // input.on(Input.EventType.TOUCH_END, this.xmltouchEnd, this)\n        // // /* 叠叠乐 */\n        // input.on(Input.EventType.TOUCH_END, this.ddltouchEnd, this)\n        // game.on(Game.EVENT_HIDE, () => {\n        //     // 用户在自动投币就停止\n        //     if (this.autoStatus) {\n        //         this.autoStatus = false\n        //         this.autoSwitch()\n        //     }\n        //     // 进入后台处于中奖出币状态\n        //     if (this.winning) {\n        //         if (this.autoTimer != null) {\n        //             clearInterval(this.autoTimer)\n        //         }\n        //     }\n        //     game.pause();\n        // })\n        // game.on(Game.EVENT_SHOW, () => {\n        //     setTimeout(() => {\n        //         game.resume();\n        //         // 从后台返回处于中奖出币状态\n        //         if (this.winning) {\n        //             if (this.autoTimer != null && !this.isReConnecting) {\n        //                 this.autoCast()\n        //             }\n        //         }\n        //     }, 500);\n        // }, this);\n        // this.getUser()\n        // this.openFive()\n        // setTimeout(() => {\n        //     if (this.node && this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('kb_node').active) {\n        //         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('kb_node').active = false\n        //     }\n        // }, 3000);\n    }\n    releaseAny() {\n        // console.log('这些清除');\n        // input.off(Input.EventType.TOUCH_END, this.touchEnd, this)\n        // input.off(Input.EventType.TOUCH_END, this.xmltouchEnd, this)\n        // input.off(Input.EventType.TOUCH_END, this.ddltouchEnd, this)\n        // game.off(Game.EVENT_HIDE)\n        // game.off(Game.EVENT_SHOW)\n        // if (this.soundApi != null) {\n        //     console.log('声音组件卸载');\n        //     this.soundApi.stop()\n        //     this.node.parent.getChildByName('__audioMgr__').destroy()\n        // }\n    }\n    // openFive() {\n    //     this.fiveTimer = setInterval(() => {\n    //         if (this.fiveTime > 1) {\n    //             this.fiveTime = this.fiveTime - 1\n    //             if (this.fiveTime <= 60) {\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('down_count').getComponent(Label).string = this.fiveTime + 's'\n    //                 if (!this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').active) {\n    //                     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').active = true\n    //                 }\n    //                 if (this.fiveTime <= 5) {\n    //                     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_count').getComponent(Label).string = this.fiveTime + ''\n    //                     if (!this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_count').active) {\n    //                         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_count').active = true\n    //                         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_tips').active = true\n    //                     }\n    //                 }\n    //             }\n    //         } else {\n    //             this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').active = false\n    //             clearInterval(this.fiveTimer)\n    //             this.fiveTimer = null\n    //             this.fiveTime = 300\n    //             this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('pop_node').getComponent(popcontrol).controlTime(true)\n    //         }\n    //     }, 1000)\n    // }\n    // // 获取用户信息\n    // getUser() {\n    //     const body = {\n    //         mobile: '11011110022',\n    //         vericode: '123456',\n    //     }\n    //     if (this.Api == null) {\n    //         this.Api = new apiRequest()\n    //         this.Api.post('user/loginByVericodeForWeb', body,\n    //             res => {\n    //                 this.userData = res.user;\n    //                 this.token = res.token;\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('avatarBox').getChildByName('vip_box').getChildByName('Label').getComponent(Label).string = this.userData.vip\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('user_property').getChildByName('click_box').getChildByName('coin_label').getComponent(Label).string = this.fillter(this.userData.coins)\n    //                 this.Api.post('vp/init', { token: this.token, mode_id: '666277af914d731376793a6c' },\n    //                     resvp => {\n    //                         this.vpinitRes = resvp\n    //                         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('bottom_fun').getChildByName('drop_node').getChildByName('mess_label').getComponent(Label).string = this.vpinitRes.price + i18n.t('cocos.bc')\n    //                         this.getVpinit()\n    //                     }, resvp => { },\n    //                 );\n    //             }, res => { },\n    //         );\n    //     }   \n    //     // if (sys.os == sys.OS.ANDROID && sys.isNative) {\n    //     //     this.userData = JSON.parse(native.reflection.callStaticMethod(\"com/lotogram/tbjdwc/mvvm/ui/activity/TuibiDevicesActivity\", \"getUser\", \"()Ljava/lang/String;\"));\n    //     //     this.token = native.reflection.callStaticMethod(\"com/lotogram/tbjdwc/mvvm/ui/activity/TuibiDevicesActivity\", \"getToken\", \"()Ljava/lang/String;\");\n    //     //     this.vpinitRes = JSON.parse(native.reflection.callStaticMethod(\"com/lotogram/tbjdwc/mvvm/ui/activity/TuibiDevicesActivity\", \"getVpinit\", \"()Ljava/lang/String;\"));\n    //     //     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('avatarBox').getChildByName('vip_box').getChildByName('Label').getComponent(Label).string = this.userData.vip\n    //     //     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('user_property').getChildByName('click_box').getChildByName('coin_label').getComponent(Label).string = this.fillter(this.userData.coins)\n    //     //     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('bottom_fun').getChildByName('drop_node').getChildByName('mess_label').getComponent(Label).string = this.vpinitRes.price + i18n.t('cocos.bc')\n    //     //     let tag = native.reflection.callStaticMethod(\"com/lotogram/tbjdwc/mvvm/ui/activity/TuibiDevicesActivity\", \"getTag\", \"()I\");\n    //     //     if (tag == 1) {\n    //     //         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('avatarBox').getChildByName('room_style').getChildByName('Label').getComponent(Label).string = i18n.t('cocos.cjc')\n    //     //     } else if (tag == 2) {\n    //     //         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('avatarBox').getChildByName('room_style').getChildByName('Label').getComponent(Label).string = i18n.t('cocos.zjc')\n    //     //     } else {\n    //     //         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('avatarBox').getChildByName('room_style').getChildByName('Label').getComponent(Label).string = i18n.t('cocos.gjc')\n    //     //     }\n    //     //     this.getVpinit()\n    //     // } else {\n    //     //     const body = {\n    //     //         mobile: '11011110022',\n    //     //         vericode: '123456',\n    //     //     }\n    //     //     if (this.Api == null) {\n    //     //         this.Api = new apiRequest()\n    //     //         this.Api.post('user/loginByVericodeForWeb', body,\n    //     //             res => {\n    //     //                 this.userData = res.user;\n    //     //                 this.token = res.token;\n    //     //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('avatarBox').getChildByName('vip_box').getChildByName('Label').getComponent(Label).string = this.userData.vip\n    //     //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('user_property').getChildByName('click_box').getChildByName('coin_label').getComponent(Label).string = this.fillter(this.userData.coins)\n    //     //                 this.Api.post('vp/init', { token: this.token, mode_id: '666277af914d731376793a6c' },\n    //     //                     resvp => {\n    //     //                         this.vpinitRes = resvp\n    //     //                         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('bottom_fun').getChildByName('drop_node').getChildByName('mess_label').getComponent(Label).string = this.vpinitRes.price + i18n.t('cocos.bc')\n    //     //                         this.getVpinit()\n    //     //                     }, resvp => { },\n    //     //                 );\n    //     //             }, res => { },\n    //     //         );\n    //     //     }\n    //     // }\n    // }\n    // // 获取上机信息\n    // getVpinit() {\n    //     var res = this.vpinitRes\n    //     this.price = res.price\n    //     this.recordId = res.record._id\n    //     this.wsuuid = res.record.uuid\n    //     let PM = this.node.getChildByName('Main')\n    //     PM.getComponent(maints).score1 = res.record.channel_count[0]\n    //     PM.getComponent(maints).score2 = res.record.channel_count[1]\n    //     PM.getComponent(maints).score3 = res.record.channel_count[2]\n    //     PM.getComponent(maints).score4 = res.record.channel_count[3]\n    //     PM.getComponent(maints).score5 = res.record.channel_count[4]\n    //     PM.getComponent(maints).score6 = res.record.channel_count[5]\n    //     PM.getComponent(maints).score7 = res.record.channel_count[6]\n    //     PM.getComponent(maints).score8 = res.record.channel_count[7]\n    //     PM.getComponent(maints).score9 = res.record.jp1\n    //     PM.getComponent(maints).score10 = res.record.jp2\n    //     PM.getComponent(maints).score11 = res.record.jp3\n    //     PM.getComponent(maints).score12 = res.record.all\n    //     this.node.getComponent(gameCore).starting1 = res.record.channel_light[0]\n    //     this.node.getComponent(gameCore).starting2 = res.record.channel_light[1]\n    //     setTimeout(() => {\n    //         this.node.getComponent(gameCore).changeChannel()\n    //     }, 500);\n    //     if (this.websocket == null) {\n    //         this.websocket = new socketApi();\n    //         this.wssalt = new encrypt().generateUUID(this.wssaltLen)\n    //         this.websocketFnc = new socketFun()\n    //         this.Md5 = new MD5()\n    //         this.websocketControlInit(res.ws)\n    //     }\n    // }\n    // websocketControlInit(url: string, isReConnect?: boolean) {\n    //     if (this.vpinitRes.salt) {\n    //         let ts = Date.now()\n    //         let signdata = this.Md5.md5(\"id=\" + this.userData._id + \"&uuid=\" + this.wsuuid + \"&ts=\" + ts + \"&type=3\" + \"&key=\" + this.vpinitRes.salt)\n    //         this.ws = new WebSocket(`${url}?nonce=${this.token}&id=${this.userData._id}&uuid=${this.wsuuid}&type=3&ts=${ts}&sign=${signdata}&sl=${this.wssaltLen}`);\n    //     } else {\n    //         this.ws = new WebSocket(`${url}?uuid=${this.wsuuid}&sl=${this.wssaltLen}`);\n    //     }\n    //     if (this.isConnecting) {\n    //         return;\n    //     }\n    //     if (isReConnect) {\n    //         this.websocket.websocket_resign(\n    //             this.userData._id,\n    //             this.userData.uid,\n    //             this.userData.vip,\n    //             this.token,\n    //             this.wsuuid,\n    //             this.wssalt,\n    //             this.recordId,\n    //             this.billId,\n    //         ).then((res) => {\n    //             this.websocket.websocket_openListen(this.ws, res)\n    //         })\n    //     } else {\n    //         this.websocket.websocket_sign(\n    //             this.userData._id,\n    //             this.userData.uid,\n    //             this.userData.vip,\n    //             this.token,\n    //             this.wsuuid,\n    //             this.wssalt,\n    //             this.recordId,\n    //         ).then((res) => {\n    //             this.websocket.websocket_openListen(this.ws, res)\n    //         })\n    //     }\n    //     this.websocket.websocket_messageListen(this.ws, this.wsuuid, this.wssaltLen, res => {\n    //         let PM = this.node.getChildByName('Main')\n    //         let MC = PM.getChildByName('Canvas').getChildByName('Machine').getComponent(machine)\n    //         let SP = this.node.getChildByName('pusher').getChildByName('component').getChildByName('spin').getComponent(spin)\n    //         console.log('收到socket返回消息');\n    //         console.log(JSON.stringify(res));\n    //         if (res.hasOwnProperty('status') && res.status == 'failed' && res.code != 11004) {\n    //             if (this.autoStatus && res.action != 4) {\n    //                 this.autoStatus = false\n    //                 this.autoSwitch()\n    //             }\n    //             return\n    //         } else {\n    //             // 获取用户真实金币\n    //             if (res.hasOwnProperty(\"user_coins\")) {\n    //                 this.userCoins = res.user_coins\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('user_property').getChildByName('click_box').getChildByName('coin_label').getComponent(Label).string = this.fillter(res.user_coins)\n    //             }\n    //             if (res.action == 0) {\n    //                 if (isReConnect) {\n    //                     // 断线重连\n    //                     if (this.isReConnecting) {\n    //                         this.no = res.no\n    //                         this.isDropMessageNotBack = false\n    //                         this.isDroped = true\n    //                         clearTimeout(this.reConnectTimer);\n    //                         this.isReConnecting = false;\n    //                         if (this.winning) {\n    //                             if (this.autoTimer != null) {\n    //                                 this.autoCast()\n    //                             }\n    //                         }\n    //                     }\n    //                 }\n    //             } else if (res.action == 1) {\n    //                 this.no = res.no\n    //                 this.isConnecting = true\n    //                 this.billId = res.bill_id\n    //                 this.soLink = true\n    //             } else if (res.action == 2) {\n    //                 this.isDroped = true\n    //                 if (this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').active) {\n    //                     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').active = false\n    //                 }\n    //                 if (this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_count').active) {\n    //                     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_count').active = false\n    //                     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_tips').active = false\n    //                     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_count').getComponent(Label).string = this.fiveTime + ''\n    //                 }\n    //                 this.fiveTime = 300\n    //                 this.setVircoin();\n    //                 this.playMusic('music/coinDrop')\n    //                 this.isDropMessageNotBack = false;\n    //                 PM.getComponent(maints).score9 = res.jp.jp1\n    //                 PM.getComponent(maints).score10 = res.jp.jp2\n    //                 PM.getComponent(maints).score11 = res.jp.jp3\n    //                 PM.getComponent(maints).score12 = res.jp.all\n    //                 if (this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('kb_node').active) {\n    //                     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('kb_node').active = false\n    //                 }\n    //             } else if (res.action == 3) {\n    //                 if (this.channelCount == 0) {\n    //                     PM.getComponent(maints).score1 = res.channel_count[0]\n    //                 } else if (this.channelCount == 1) {\n    //                     PM.getComponent(maints).score2 = res.channel_count[1]\n    //                 } else if (this.channelCount == 2) {\n    //                     PM.getComponent(maints).score3 = res.channel_count[2]\n    //                 } else if (this.channelCount == 3) {\n    //                     PM.getComponent(maints).score4 = res.channel_count[3]\n    //                 } else if (this.channelCount == 4) {\n    //                     PM.getComponent(maints).score5 = res.channel_count[4]\n    //                 } else if (this.channelCount == 5) {\n    //                     PM.getComponent(maints).score6 = res.channel_count[5]\n    //                 } else if (this.channelCount == 6) {\n    //                     PM.getComponent(maints).score7 = res.channel_count[6]\n    //                 } else if (this.channelCount == 7) {\n    //                     PM.getComponent(maints).score8 = res.channel_count[7]\n    //                 }\n    //                 this.node.getComponent(gameCore).resertChannel()\n    //                 this.node.getComponent(gameCore).starting1 = res.channel_light[0]\n    //                 this.node.getComponent(gameCore).starting2 = res.channel_light[1]\n    //                 setTimeout(() => {\n    //                     this.node.getComponent(gameCore).changeChannel()\n    //                 }, 50);\n    //             } else if (res.action == 4) {\n    //                 this.playMusic('music/spinrotMs')\n    //                 if (res.type == -1 || res.code == 11004) {\n    //                     // 没奖\n    //                     this.awardType = -1\n    //                     MC.onHandleClicked(8)\n    //                 } else {\n    //                     if (this.winning) {\n    //                         return\n    //                     }\n    //                     if (this.autoStatus) {\n    //                         this.autoStatus = false\n    //                         this.autoSwitch()\n    //                         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('bottom_fun').getChildByName('auto_node').getComponent(autoDropTs).clearAutoStatus()\n    //                     }\n    //                     // 5分倒计时关闭\n    //                     if (this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').active) {\n    //                         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').active = false\n    //                     }\n    //                     if (this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_count').active) {\n    //                         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_count').active = false\n    //                         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_tips').active = false\n    //                         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('time_down').getChildByName('folly_count').getComponent(Label).string = this.fiveTime + ''\n    //                     }\n    //                     clearInterval(this.fiveTimer)\n    //                     this.fiveTime = 300\n    //                     this.fiveTimer = null\n    //                     // 出奖状态设置\n    //                     this.winning = true\n    //                     this.zjCoins = res.prize.coins\n    //                     this.awardType = res.type\n    //                     if (MC.isRolling) {\n    //                         this.allowed = true\n    //                     }\n    //                     if (res.type == 0) {\n    //                         // 连线奖\n    //                         SP.lineType = res.prize.line_type\n    //                         SP.lineNum = res.prize.line_type.length\n    //                         SP.setprize(0)\n    //                         // 中连线奖播放一次连线声音\n    //                         this.playMusic('music/lineMs')\n    //                     } else if (res.type == 1) {\n    //                         // 小玛丽\n    //                         if (this.dropStatus == 3) {\n    //                             this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('bottom_fun').getChildByName('drop_count').getComponent(dcountChange).changeDrop()\n    //                         }\n    //                         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('bottom_fun').getChildByName('drop_btn').getChildByName('count_label').getComponent(Label).string = i18n.t('cocos.zdcj')\n    //                         let outnum = this.xmlOut[Math.floor(Math.random() * this.xmlOut.length)]\n    //                         let xmlxz = res.prize.xmlArr\n    //                         xmlxz.push(outnum)\n    //                         this.xmlcoinArr = xmlxz\n    //                         SP.setprize(1)\n    //                         // 先停止背景音乐再开启小玛丽背景音乐\n    //                         this.playMusic('music/xmlMs')\n    //                     } else if (res.type == 2) {\n    //                         // 叠叠乐\n    //                         if (this.dropStatus == 3) {\n    //                             this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('bottom_fun').getChildByName('drop_count').getComponent(dcountChange).changeDrop()\n    //                         }\n    //                         this.ddlArr = JSON.parse(JSON.stringify(res.prize.ddl))\n    //                         this.ddlycArr = JSON.parse(JSON.stringify(res.prize.ddl))\n    //                         this.ddlscore = res.prize.coins\n    //                         SP.setprize(2)\n    //                         // 先停止背景音乐再开启叠叠乐背景音乐\n    //                         this.playMusic('music/ddlMs')\n    //                     } else if (res.type == 3) {\n    //                         // jp1\n    //                         SP.setprize(3)\n    //                         // 先停止背景音乐再开启jp1背景音乐\n    //                         this.playMusic('music/jpNormal')\n    //                     } else if (res.type == 4) {\n    //                         // jp2\n    //                         SP.setprize(4)\n    //                         // 先停止背景音乐再开启jp2背景音乐\n    //                         this.playMusic('music/jpNormal')\n    //                     } else if (res.type == 5) {\n    //                         // jp3\n    //                         SP.setprize(5)\n    //                         // 先停止背景音乐再开启jp3背景音乐\n    //                         this.playMusic('music/jpNormal')\n    //                     } else if (res.type == 6) {\n    //                         // jpAll\n    //                         SP.setprize(6)\n    //                         // 先停止背景音乐再开启jpall背景音乐\n    //                         this.playMusic('music/jpAll')\n    //                     }\n    //                 }\n    //             } else if (res.action == 5) {\n    //                 PM.getChildByName('Canvas').getChildByName('jpScore').getComponent(jpScorets).allScore = res.get_coins\n    //             } else if (res.action == 6) {\n    //                 this.activeClosed = true\n    //                 this.websocket.websocket_close(this.ws)\n    //                 if (this.isDroped) {\n    //                     this.isDroped = false\n    //                     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('pop_node').getChildByName('settle_node').getChildByName('symbol_node').getChildByName('award_node').getComponent(awardCl).freshData(PM.getChildByName('Canvas').getChildByName('jpScore').getComponent(jpScorets).allScore, res.prize)\n    //                 } else {\n    //                     if (sys.os == sys.OS.ANDROID && sys.isNative) {\n    //                         this.releaseAny()\n    //                         this.node.active = false;\n    //                         this.node.parent.getChildByName('GameOver').active = true\n    //                         setTimeout(() => {\n    //                             game.end();\n    //                         }, 1500);\n    //                     } else {\n    //                         game.end()\n    //                     }\n    //                 }\n    //             }\n    //         }\n    //     })\n    //     this.websocket.websocket_closeListen(this.ws, res => {\n    //         if (!this.isReConnecting && !this.activeClosed) {\n    //             if (this.autoStatus) {\n    //                 this.autoStatus = false\n    //                 this.autoSwitch()\n    //             }\n    //             if (this.winning) {\n    //                 if (this.autoTimer != null) {\n    //                     clearInterval(this.autoTimer)\n    //                 }\n    //             }\n    //             this.isReConnecting = true\n    //             this.isDroped = false\n    //             setTimeout(() => {\n    //                 this.tryConnect();\n    //             }, 5000);\n    //         }\n    //     })\n    //     this.websocket.websocket_errorListen(this.ws, res => {\n    //         if (!this.isReConnecting) {\n    //             if (this.autoStatus) {\n    //                 this.autoStatus = false\n    //                 this.autoSwitch()\n    //             }\n    //             if (this.winning) {\n    //                 if (this.autoTimer != null) {\n    //                     clearInterval(this.autoTimer)\n    //                 }\n    //             }\n    //             this.isReConnecting = true\n    //             this.isDroped = false\n    //             setTimeout(() => {\n    //                 this.tryConnect();\n    //             }, 5000);\n    //         }\n    //     })\n    // }\n    // tryConnect() {\n    //     this.isConnecting = false;\n    //     setTimeout(() => {\n    //         this.reConnect();\n    //     }, 1000);\n    //     this.reConnectTimer = setTimeout(() => {\n    //         this.tryConnect();\n    //     }, 3500);\n    // }\n    // reConnect = () => {\n    //     this.reCountNum++;\n    //     if (this.reCountNum >= 30) {\n    //         clearTimeout(this.reConnectTimer)\n    //         this.isReConnecting = false;\n    //         this.reCountNum = null;\n    //     } else {\n    //         this.websocketControlInit(this.vpinitRes.ws, true);\n    //     }\n    // };\n    // // 触摸结束\n    // touchEnd() {\n    //     if (!this.soLink) {\n    //         return\n    //     }\n    //     if (this.autoStatus) {\n    //         return;\n    //     }\n    //     if (this.winning) {\n    //         return;\n    //     }\n    //     if (this.dropStatus == 1) {\n    //         if (Date.now() - this.intervalEnd <= 260) {\n    //             return;\n    //         }\n    //         this.intervalEnd = Date.now()\n    //         this.ws_fnc_dropping()\n    //     } else if (this.dropStatus == 3) {\n    //         if (this.dropThreeCount == 0) {\n    //             this.dropThreeCount += 3\n    //             if (this.dropThree == null) {\n    //                 this.dropThree = setInterval(() => {\n    //                     this.dropThreeCount--\n    //                     if (this.dropThreeCount < 1) {\n    //                         clearInterval(this.dropThree)\n    //                         this.dropThree = null\n    //                     }\n    //                     this.ws_fnc_dropping()\n    //                 }, 333)\n    //             }\n    //         }\n    //     }\n    // }\n    // // 设置虚拟金币\n    // setVircoin() {\n    //     let nodePar = this.node.getChildByName('coinpool').children\n    //     if (nodePar.length >= 1 && 49.15 - nodePar[nodePar.length - 1].position.x <= 3) {\n    //         console.log('卡币了');\n    //         return;\n    //     }\n    //     const coin = poolManager.instance.getNode(this.preCoin, this.ndCoinParent) as Node;\n    //     coin.setPosition(49.15, 94.93, 26.3)\n    //     coin.setRotationFromEuler(90, 0, 0)\n    //     coin.getComponent(RigidBody).useCCD = true;\n    //     coin.getComponent(RigidBody).setLinearVelocity(new Vec3(-50, 0, 0))\n    // }\n    // // 自动投币\n    // autoCast() {\n    //     this.autoTimer = setInterval(() => {\n    //         if (this.autoNumber >= this.autoTarget) {\n    //             this.closeAuto()\n    //         } else {\n    //             this.setVircoin()\n    //             this.autoNumber += 1;\n    //             if (this.awardType == 0) {\n    //                 // 连线奖出币总数量\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('lxshow').getComponent(lxts).score1 -= 1\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('jpScore').getComponent(jpScorets).getScore -= 1\n    //             } else if (this.awardType == 1) {\n    //                 // 小玛丽出币总数量\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('lxshow').getComponent(lxts).score1 -= 1\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('jpScore').getComponent(jpScorets).getScore -= 1\n    //             } else if (this.awardType == 2) {\n    //                 // 叠叠乐出币总数量\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('lxshow').getComponent(lxts).score1 -= 1\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('jpScore').getComponent(jpScorets).getScore -= 1\n    //             } else if (this.awardType == 3) {\n    //                 // jp1出币总数量\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('jpAnim').getComponent(jpts).score1 -= 1\n    //             } else if (this.awardType == 4) {\n    //                 // jp2出币总数量\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('jpAnim').getComponent(jpts).score1 -= 1\n    //             } else if (this.awardType == 5) {\n    //                 // jp3出币总数量\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('jpAnim').getComponent(jpts).score1 -= 1\n    //             } else if (this.awardType == 6) {\n    //                 // jpAll出币总数量\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('jpAnim').getComponent(jpts).score1 -= 1\n    //             }\n    //         }\n    //     }, 260)\n    // }\n    // closeAuto() {\n    //     let Can = this.node.getChildByName('Main').getChildByName('Canvas')\n    //     let domachine = Can.getChildByName('Machine').getComponent(machine)\n    //     let spinDm = this.node.getChildByName('pusher').getChildByName('component').getChildByName('spin').getComponent(spin)\n    //     clearInterval(this.autoTimer)\n    //     this.autoTimer = null;\n    //     this.autoNumber = 0;\n    //     this.autoTarget = 0;\n    //     // 普通连线奖处理\n    //     if (Can.getChildByName('lxshow') != null && Can.getChildByName('lxshow').active) {\n    //         Can.getChildByName('lxshow').active = false\n    //     }\n    //     // 红线处理\n    //     if (Can.getChildByName('liaisonLine').getChildByName('lineitem') != null && Can.getChildByName('liaisonLine').getChildByName('lineitem').active) {\n    //         Can.getChildByName('liaisonLine').getChildByName('lineitem').active = false\n    //     }\n    //     if (Can.getChildByName('liaisonLine').getChildByName('lineitem1') != null && Can.getChildByName('liaisonLine').getChildByName('lineitem1').active) {\n    //         Can.getChildByName('liaisonLine').getChildByName('lineitem1').active = false\n    //     }\n    //     if (Can.getChildByName('liaisonLine').getChildByName('lineitem2') != null && Can.getChildByName('liaisonLine').getChildByName('lineitem2').active) {\n    //         Can.getChildByName('liaisonLine').getChildByName('lineitem2').active = false\n    //     }\n    //     if (Can.getChildByName('liaisonLine').getChildByName('lineitem3') != null && Can.getChildByName('liaisonLine').getChildByName('lineitem3').active) {\n    //         Can.getChildByName('liaisonLine').getChildByName('lineitem3').active = false\n    //     }\n    //     // jp1、2、3、all处理\n    //     if (Can.getChildByName('jpAnim') != null && Can.getChildByName('jpAnim').active) {\n    //         Can.getChildByName('jpAnim').active = false\n    //     }\n    //     if (spinDm.lineNum == 1) {\n    //         domachine.lineFlash(domachine.randomicon, false)\n    //     } else if (spinDm.lineNum == 2) {\n    //         domachine.lineFlash(domachine.randomicon[0], false)\n    //         domachine.lineFlash(domachine.randomicon[1], false)\n    //     } else if (spinDm.lineNum == 3) {\n    //         domachine.lineFlash(domachine.randomicon[0], false)\n    //         domachine.lineFlash(domachine.randomicon[1], false)\n    //         domachine.lineFlash(domachine.randomicon[2], false)\n    //     }\n    //     if (this.ddlSwitch) {\n    //         let ddlgame = Can.getChildByName('ddlgame')\n    //         this.ddlSwitch = false\n    //         this.ddlauto = false\n    //         this.ddltimer = null\n    //         this.ddlOne = null\n    //         this.ddlscore = 0\n    //         ddlgame.getChildByName('ddltime').active = false;\n    //         ddlgame.getChildByName('ddltotal').active = false;\n    //         ddlgame.getComponent(ddlts).clearAd()\n    //         ddlgame.active = false\n    //         this.node.getComponent(gameCore).noShining()\n    //         setTimeout(() => {\n    //             this.node.getComponent(gameCore).agShining()\n    //         }, 50);\n    //     }\n    //     if (this.xmlSwitch) {\n    //         let xmlgame = Can.getChildByName('xmlgame')\n    //         this.xmlSwitch = false\n    //         this.xmlnum = 0\n    //         xmlgame.getChildByName('xmlTime').active = false\n    //         xmlgame.getChildByName('xmlAnim').active = false\n    //         xmlgame.getChildByName('xmlAnim').getComponent(xmlAnim).recoverAll()\n    //         xmlgame.getComponent(xmlts).clearxml()\n    //         xmlgame.active = false\n    //         this.node.getComponent(gameCore).noShining()\n    //         setTimeout(() => {\n    //             this.node.getComponent(gameCore).agShining()\n    //         }, 50);\n    //     }\n    //     domachine.doRestore()\n    //     domachine.spinSwitch(true)\n    //     domachine.randomicon = null;\n    //     domachine.randomsub = null;\n    //     if (this.awardType == 3) {\n    //         this.node.getChildByName('Main').getComponent(maints).score9 = 500\n    //     } else if (this.awardType == 4) {\n    //         this.node.getChildByName('Main').getComponent(maints).score10 = 1000\n    //     } else if (this.awardType == 5) {\n    //         this.node.getChildByName('Main').getComponent(maints).score11 = 2000\n    //     } else if (this.awardType == 6) {\n    //         this.node.getChildByName('Main').getComponent(maints).score12 = 3000\n    //     }\n    //     // 音乐处理\n    //     if (this.awardType !== 0) {\n    //         if (this.soundStatus) {\n    //             this.soundApi.stop()\n    //             this.playMusic('music/bgMusic')\n    //         }\n    //     }\n    //     this.awardType = -1;\n    //     this.winning = false;\n    //     spinDm.lineNum = null;\n    //     spinDm.lineType = null;\n    //     // 中奖结束重新开启5分倒计时\n    //     this.openFive()\n    // }\n    // // 小玛丽投币\n    // xmltouchEnd() {\n    //     if (!this.xmlSwitch) {\n    //         return;\n    //     }\n    //     if (this.xmlnum >= 1) {\n    //         // 小玛丽只允许点击一次\n    //         return\n    //     }\n    //     if (Date.now() - this.xmltime <= 260) {\n    //         return;\n    //     }\n    //     this.xmltime = Date.now()\n    //     this.xmlnum += 1;\n    //     let xmlgame = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('xmlgame').getComponent(xmlts)\n    //     xmlgame.toRoll(xmlgame.startIndex)\n    //     setTimeout(() => {\n    //         xmlgame.resultarr = this.xmlcoinArr\n    //         xmlgame.stopPos = xmlgame.resultarr[0]\n    //         let isover = setInterval(() => {\n    //             if (xmlgame.isover) {\n    //                 clearInterval(isover)\n    //                 this.autoTarget = this.zjCoins\n    //                 // 当前获奖的全部金币数量\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('jpScore').getComponent(jpScorets).getScore = this.zjCoins\n    //                 this.autoCast()\n    //             }\n    //         }, 1000)\n    //     }, 3000);\n    // }\n    // // 叠叠乐投币\n    // ddltouchEnd() {\n    //     let ddlgame = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('ddlgame').getComponent(ddlts)\n    //     let domachine = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('Machine').getComponent(machine)\n    //     if (!this.ddlSwitch) {\n    //         return;\n    //     }\n    //     if (this.ddlauto) {\n    //         return;\n    //     }\n    //     if (Date.now() - this.ddltime <= 560) {\n    //         return;\n    //     }\n    //     this.ddltime = Date.now()\n    //     if (ddlgame.awardTotal > 0) {\n    //         this.ddlOnce()\n    //     } else {\n    //         this.ddlauto = true\n    //         clearInterval(this.ddltimer)\n    //         clearInterval(this.ddlOne)\n    //         if (this.autoTimer == null) {\n    //             if (this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('ddlset') != null) {\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('ddlset').getChildByName('Label').getComponent(Label).string = '0'\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('ddlset').getChildByName('Label1').getComponent(Label).string = '0'\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('ddlset').getChildByName('Label2').getComponent(Label).string = '0'\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('ddlset').getChildByName('Label3').getComponent(Label).string = ''\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('ddlset').active = true\n    //             } else {\n    //                 // 生成结算分数界面\n    //                 let ddlset = instantiate(domachine.ddlsetItem)\n    //                 ddlset.setPosition(-345.051, -597.314, 26.08)\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').addChild(ddlset)\n    //             }\n    //             // 结算ddl总分数\n    //             this.getddlsort()\n    //         }\n    //     }\n    // }\n    // // 自动投币\n    // autoSwitch(spchange?: number) {\n    //     if (!this.autoStatus) {\n    //         this.autoSpeed = 1\n    //         if (this.autoftm != null) {\n    //             clearInterval(this.autoftm)\n    //         }\n    //         if (this.autostm != null) {\n    //             clearInterval(this.autostm)\n    //         }\n    //         if (this.autottm != null) {\n    //             clearInterval(this.autottm)\n    //         }\n    //     } else {\n    //         if (spchange != null) {\n    //             if (spchange == 1) {\n    //                 if (this.autottm != null) {\n    //                     clearInterval(this.autottm)\n    //                 }\n    //                 this.autoftm = setInterval(() => {\n    //                     this.ws_fnc_dropping()\n    //                 }, 1000)\n    //             } else if (spchange == 2) {\n    //                 if (this.autoftm != null) {\n    //                     clearInterval(this.autoftm)\n    //                 }\n    //                 this.autostm = setInterval(() => {\n    //                     this.ws_fnc_dropping()\n    //                 }, 500)\n    //             } else if (spchange == 3) {\n    //                 if (this.autostm != null) {\n    //                     clearInterval(this.autostm)\n    //                 }\n    //                 this.autottm = setInterval(() => {\n    //                     this.ws_fnc_dropping()\n    //                 }, 333)\n    //             }\n    //         } else {\n    //             // 自动投币每次打开必定是一秒一币状态\n    //             this.autoftm = setInterval(() => {\n    //                 this.ws_fnc_dropping()\n    //             }, 1000)\n    //         }\n    //     }\n    // }\n    // 下机按钮\n    closeOut() {\n        // if (this.soLink) {\n        //     // 出奖中的话关闭出奖\n        //     if (this.autoTimer != null) {\n        //         this.closeAuto()\n        //     }\n        //     if (this.autoStatus) {\n        //         this.autoStatus = false\n        //         this.autoSwitch()\n        //         this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('bottom_fun').getChildByName('auto_node').getComponent(autoDropTs).clearAutoStatus()\n        //     }\n        //     // 清除倒计时\n        //     clearInterval(this.fiveTimer);\n        //     let sendData = this.websocketFnc.ws_userout()\n        //     this.websocket.websocket_sendMessage(sendData, this.ws, this.wsuuid, this.wssalt)\n        // } else {\n        //     this.activeClosed = true\n        //     if (sys.os == sys.OS.ANDROID && sys.isNative) {\n        //         this.releaseAny()\n        //         this.node.active = false;\n        //         this.node.parent.getChildByName('GameOver').active = true\n        //         setTimeout(() => {\n        //             console.log('这里下机了');\n        //             game.end();\n        //         }, 1500);\n        //     } else {\n        //         game.end()\n        //     }\n        // }\n        if (sys.os == sys.OS.ANDROID && sys.isNative) {\n            this.node.getChildByName('robots').active = false\n            this.node.getChildByName('Canvas').getChildByName('uiview').active = true\n            setTimeout(() => {\n                console.log('这里下机了');\n                sys.garbageCollect()\n                game.end();\n            }, 1500);\n        } else {\n            this.node.getChildByName('robots').active = false\n            this.node.getChildByName('Canvas').getChildByName('uiview').active = true\n            setTimeout(() => {\n                console.log('这里下机了');\n                sys.garbageCollect()\n                game.end();\n            }, 1500);\n        }\n    }\n    // 发送投币信息\n    // ws_fnc_dropping() {\n    //     if (this.isDropMessageNotBack) {\n    //         return\n    //     }\n    //     if (this.userCoins < this.price) {\n    //         if (this.autoStatus) {\n    //             this.autoStatus = false\n    //             this.autoSwitch()\n    //             this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('bottom_fun').getChildByName('auto_node').getComponent(autoDropTs).clearAutoStatus()\n    //         }\n    //         if (this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('pop_node').getChildByName('balance_node').active == false) {\n    //             this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('pop_node').getComponent(popcontrol).controlBalance(true)\n    //         }\n    //         return\n    //     }\n    //     let sendData = this.websocketFnc.ws_dropcoin()\n    //     this.isDropMessageNotBack = true;\n    //     this.websocket.websocket_sendMessage(sendData, this.ws, this.wsuuid, this.wssalt)\n    // }\n    // getddlsort() {\n    //     let domachine = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('Machine').getComponent(machine)\n    //     let obj_key = []\n    //     let obj_value = []\n    //     for (var key in this.ddlycArr) {\n    //         obj_key.push(key)\n    //         obj_value.push(this.ddlycArr[key])\n    //     }\n    //     let ddllength = Object.keys(this.ddlycArr).length\n    //     let ddlsess = setInterval(() => {\n    //         if (ddllength > 0) {\n    //             this.returnddlSet(obj_key[Object.keys(this.ddlycArr).length - ddllength], obj_value[Object.keys(this.ddlycArr).length - ddllength])\n    //         } else {\n    //             clearInterval(ddlsess)\n    //             this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('ddlset').active = false\n    //             setTimeout(() => {\n    //                 if (this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('lxshow') != null) {\n    //                     this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('lxshow').active = true\n    //                 } else {\n    //                     let lxshow = instantiate(domachine.lxItem)\n    //                     lxshow.setPosition(-345.051, -597.314, 26.08)\n    //                     this.node.getChildByName('Main').getChildByName('Canvas').addChild(lxshow)\n    //                 }\n    //                 this.autoTarget = this.ddlscore\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('lxshow').getComponent(lxts).score = this.ddlscore\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('lxshow').getComponent(lxts).score1 = this.ddlscore\n    //                 // 当前获奖的全部金币数量\n    //                 this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('jpScore').getComponent(jpScorets).getScore = this.zjCoins\n    //                 setTimeout(() => {\n    //                     this.autoCast()\n    //                 }, 50);\n    //             }, 250);\n    //         }\n    //         ddllength--;\n    //     }, 500)\n    // }\n    // // 叠叠乐计算展示\n    // returnddlSet(key: string, val: number) {\n    //     let score = null\n    //     let ddlsetA = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('ddlset')\n    //     if (key == '0') {\n    //         ddlsetA.getChildByName('Label').getComponent(Label).string = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel1').getComponent(Label).string\n    //         if (val == 1) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel1').getComponent(Label).string)\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '1'\n    //         } else if (val == 2) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel1').getComponent(Label).string) * 3\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '3'\n    //         } else if (val == 3) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel1').getComponent(Label).string) * 6\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '6'\n    //         } else if (val == 4) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel1').getComponent(Label).string) * 10\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '10'\n    //         } else if (val == 5) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel1').getComponent(Label).string) * 20\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '20'\n    //         } else if (val == 6) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel1').getComponent(Label).string) * 30\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '30'\n    //         }\n    //     } else if (key == '1') {\n    //         ddlsetA.getChildByName('Label').getComponent(Label).string = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel2').getComponent(Label).string\n    //         if (val == 1) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel2').getComponent(Label).string)\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '1'\n    //         } else if (val == 2) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel2').getComponent(Label).string) * 3\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '3'\n    //         } else if (val == 3) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel2').getComponent(Label).string) * 6\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '6'\n    //         } else if (val == 4) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel2').getComponent(Label).string) * 10\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '10'\n    //         } else if (val == 5) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel2').getComponent(Label).string) * 20\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '20'\n    //         } else if (val == 6) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel2').getComponent(Label).string) * 30\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '30'\n    //         }\n    //     } else if (key == '2') {\n    //         ddlsetA.getChildByName('Label').getComponent(Label).string = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel3').getComponent(Label).string\n    //         if (val == 1) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel3').getComponent(Label).string)\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '1'\n    //         } else if (val == 2) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel3').getComponent(Label).string) * 3\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '3'\n    //         } else if (val == 3) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel3').getComponent(Label).string) * 6\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '6'\n    //         } else if (val == 4) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel3').getComponent(Label).string) * 10\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '10'\n    //         } else if (val == 5) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel3').getComponent(Label).string) * 20\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '20'\n    //         } else if (val == 6) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel3').getComponent(Label).string) * 30\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '30'\n    //         }\n    //     } else if (key == '3') {\n    //         ddlsetA.getChildByName('Label').getComponent(Label).string = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel4').getComponent(Label).string\n    //         if (val == 1) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel4').getComponent(Label).string)\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '1'\n    //         } else if (val == 2) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel4').getComponent(Label).string) * 3\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '3'\n    //         } else if (val == 3) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel4').getComponent(Label).string) * 6\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '6'\n    //         } else if (val == 4) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel4').getComponent(Label).string) * 10\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '10'\n    //         } else if (val == 5) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel4').getComponent(Label).string) * 20\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '20'\n    //         } else if (val == 6) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel4').getComponent(Label).string) * 30\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '30'\n    //         }\n    //     } else if (key == '4') {\n    //         ddlsetA.getChildByName('Label').getComponent(Label).string = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel5').getComponent(Label).string\n    //         if (val == 1) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel5').getComponent(Label).string)\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '1'\n    //         } else if (val == 2) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel5').getComponent(Label).string) * 3\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '3'\n    //         } else if (val == 3) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel5').getComponent(Label).string) * 6\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '6'\n    //         } else if (val == 4) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel5').getComponent(Label).string) * 10\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '10'\n    //         } else if (val == 5) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel5').getComponent(Label).string) * 20\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '20'\n    //         } else if (val == 6) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel5').getComponent(Label).string) * 30\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '30'\n    //         }\n    //     } else if (key == '5') {\n    //         ddlsetA.getChildByName('Label').getComponent(Label).string = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel6').getComponent(Label).string\n    //         if (val == 1) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel6').getComponent(Label).string)\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '1'\n    //         } else if (val == 2) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel6').getComponent(Label).string) * 3\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '3'\n    //         } else if (val == 3) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel6').getComponent(Label).string) * 6\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '6'\n    //         } else if (val == 4) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel6').getComponent(Label).string) * 10\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '10'\n    //         } else if (val == 5) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel6').getComponent(Label).string) * 20\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '20'\n    //         } else if (val == 6) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel6').getComponent(Label).string) * 30\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '30'\n    //         }\n    //     } else if (key == '6') {\n    //         ddlsetA.getChildByName('Label').getComponent(Label).string = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel7').getComponent(Label).string\n    //         if (val == 1) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel7').getComponent(Label).string)\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '1'\n    //         } else if (val == 2) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel7').getComponent(Label).string) * 3\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '3'\n    //         } else if (val == 3) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel7').getComponent(Label).string) * 6\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '6'\n    //         } else if (val == 4) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel7').getComponent(Label).string) * 10\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '10'\n    //         } else if (val == 5) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel7').getComponent(Label).string) * 20\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '20'\n    //         } else if (val == 6) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel7').getComponent(Label).string) * 30\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '30'\n    //         }\n    //     } else if (key == '7') {\n    //         ddlsetA.getChildByName('Label').getComponent(Label).string = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel8').getComponent(Label).string\n    //         if (val == 1) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel8').getComponent(Label).string)\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '1'\n    //         } else if (val == 2) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel8').getComponent(Label).string) * 3\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '3'\n    //         } else if (val == 3) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel8').getComponent(Label).string) * 6\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '6'\n    //         } else if (val == 4) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel8').getComponent(Label).string) * 10\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '10'\n    //         } else if (val == 5) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel8').getComponent(Label).string) * 20\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '20'\n    //         } else if (val == 6) {\n    //             score = Number(this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('labels').getChildByName('winLabel8').getComponent(Label).string) * 30\n    //             ddlsetA.getChildByName('Label1').getComponent(Label).string = '30'\n    //         }\n    //     }\n    //     ddlsetA.getChildByName('Label2').getComponent(Label).string = score.toString()\n    //     ddlsetA.getChildByName('Label3').getComponent(Label).string = score + Number(ddlsetA.getChildByName('Label3').getComponent(Label).string)\n    // }\n    // // 叠叠乐单次掉落\n    // ddlOnce() {\n    //     let pKey = Object.keys(this.ddlArr)\n    //     let mr = Math.floor(Math.random() * pKey.length);\n    //     let ddlgame = this.node.getChildByName('Main').getChildByName('Canvas').getChildByName('ddlgame').getComponent(ddlts)\n    //     if (this.ddlArr[pKey[mr]] > 0 && this.ddlArr[pKey[mr]] != 1) {\n    //         ddlgame.addAward(Number(pKey[mr]))\n    //         this.ddlArr[pKey[mr]]--;\n    //     } else if (this.ddlArr[pKey[mr]] == 1) {\n    //         ddlgame.addAward(Number(pKey[mr]))\n    //         delete (this.ddlArr[pKey[mr]])\n    //     }\n    // }\n    // // 金额过滤\n    // fillter(val: number) {\n    //     var num;\n    //     if (val > 999999) {\n    //         num = Math.floor(val / 10000) + '万';\n    //     } else {\n    //         num = Math.floor(val);\n    //     }\n    //     return num.toString()\n    // }\n    // // 播放音乐\n    // playMusic(musicType: string) {\n    //     if (!this.soundStatus) {\n    //         return\n    //     }\n    //     // 注册一个全局音乐控制类\n    //     if (this.soundApi == null) {\n    //         this.soundApi = new AudioMgr()\n    //     }\n    //     if (musicType == 'music/bgMusic') {\n    //         this.soundApi.play(musicType, 1, true)\n    //     } else if (musicType == 'music/coinDrop') {\n    //         this.soundApi.playOneShot(musicType, 1)\n    //     } else if (musicType == 'music/spinrotMs') {\n    //         this.soundApi.playOneShot(musicType, 1)\n    //     } else if (musicType == 'music/lineMs') {\n    //         this.soundApi.playOneShot(musicType, 1)\n    //     } else if (musicType == 'music/xmlMs') {\n    //         this.soundApi.stop()\n    //         this.soundApi.play(musicType, 1, true)\n    //     } else if (musicType == 'music/ddlMs') {\n    //         this.soundApi.stop()\n    //         this.soundApi.play(musicType, 1, true)\n    //     } else if (musicType == 'music/jpNormal') {\n    //         this.soundApi.stop()\n    //         this.soundApi.play(musicType, 1, true)\n    //     } else if (musicType == 'music/jpAll') {\n    //         this.soundApi.stop()\n    //         this.soundApi.play(musicType, 1, true)\n    //     } else if (musicType == 'music/awardMs') {\n    //         this.soundApi.playOneShot(musicType, 1)\n    //     } else if (musicType == 'music/spinMs') {\n    //         this.soundApi.playOneShot(musicType, 1)\n    //     }\n    // }\n    update(deltaTime: number) {\n    }\n}"]}