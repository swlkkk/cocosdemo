{"version":3,"sources":["file:///Users/swl/Desktop/cocos/cocos_tbjdwc/assets/scripts/menu.ts"],"names":["_decorator","Component","Sprite","SpriteFrame","resources","native","sys","coinCreate","popcontrol","ccclass","property","menu","menuSpritePath","orientsymbol","onLoad","forEach","spritePath","preload","start","pusher","node","parent","getComponent","soundStatus","load","err","getChildByName","spriteFrame","orientChange","active","toCharge","popControl","controlCharge","roomOut","isDroped","controlQuite","closeOut","conRule","controlRule","soundSwitch","soundApi","stop","playMusic","os","OS","ANDROID","isNative","reflection","callStaticMethod","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Sprite, SpriteFrame, resources, director, game, native, sys } from 'cc';\nimport { coinCreate } from './coinCreate';\nimport { popcontrol } from './popcontrol';\nconst { ccclass, property } = _decorator;\n\n@ccclass('menu')\nexport class menu extends Component {\n    menuSpritePath = [\n        'btn_tbj_exit/spriteFrame',\n        'btn_tbj_putaway/spriteFrame',\n        'btn_tbj_mu/spriteFrame',\n        'btn_tbj_mu2/spriteFrame'\n    ]\n    orientsymbol = false\n\n    onLoad(): void {\n        this.menuSpritePath.forEach((spritePath) => {\n            resources.preload(spritePath, SpriteFrame)\n        })\n    }\n    start() {\n        var pusher = this.node.parent.parent.parent\n        if (pusher.getComponent(coinCreate).soundStatus) {\n            resources.load(this.menuSpritePath[2], SpriteFrame, (err, spritePath) => {\n                this.node.getChildByName('sound').getChildByName('sound_icon').getComponent(Sprite).spriteFrame = spritePath\n            })\n        } else {\n            resources.load(this.menuSpritePath[3], SpriteFrame, (err, spritePath) => {\n                this.node.getChildByName('sound').getChildByName('sound_icon').getComponent(Sprite).spriteFrame = spritePath\n            })\n        }\n    }\n    orientChange() {\n        if (!this.orientsymbol) {\n            this.orientsymbol = true\n            resources.load(this.menuSpritePath[1], SpriteFrame, (err, spritePath) => {\n                this.node.getChildByName('back_btn').getComponent(Sprite).spriteFrame = spritePath\n            })\n            this.node.getChildByName('menu_bg').active = false\n            this.node.getChildByName('charge').active = false\n            this.node.getChildByName('rule').active = false\n            this.node.getChildByName('sound').active = false\n        } else {\n            this.orientsymbol = false\n            resources.load(this.menuSpritePath[0], SpriteFrame, (err, spritePath) => {\n                this.node.getChildByName('back_btn').getComponent(Sprite).spriteFrame = spritePath\n            })\n            this.node.getChildByName('menu_bg').active = true\n            this.node.getChildByName('charge').active = true\n            this.node.getChildByName('rule').active = true\n            this.node.getChildByName('sound').active = true\n        }\n    }\n    // 充值\n    toCharge() {\n        var popControl = this.node.parent.getChildByName('pop_node').getComponent(popcontrol)\n        popControl.controlCharge(true)\n    }\n    // 离开房间\n    roomOut() {\n        var pusher = this.node.parent.parent.parent.getComponent(coinCreate)\n        var popControl = this.node.parent.getChildByName('pop_node').getComponent(popcontrol)\n        if (pusher.isDroped) {\n            popControl.controlQuite(true)\n        } else {\n            pusher.closeOut()\n        }\n    }\n    // 规则弹窗\n    conRule() {\n        var popControl = this.node.parent.getChildByName('pop_node').getComponent(popcontrol)\n        popControl.controlRule(true)\n    }\n    // 声音控制\n    soundSwitch() {\n        var pusher = this.node.parent.parent.parent.getComponent(coinCreate)\n        if (pusher.soundStatus) {\n            pusher.soundStatus = false\n            resources.load(this.menuSpritePath[3], SpriteFrame, (err, spritePath) => {\n                this.node.getChildByName('sound').getChildByName('sound_icon').getComponent(Sprite).spriteFrame = spritePath\n            })\n            pusher.soundApi.stop()\n        } else {\n            pusher.soundStatus = true\n            resources.load(this.menuSpritePath[2], SpriteFrame, (err, spritePath) => {\n                this.node.getChildByName('sound').getChildByName('sound_icon').getComponent(Sprite).spriteFrame = spritePath\n            })\n            pusher.playMusic('music/bgMusic')\n        }\n        if (sys.os == sys.OS.ANDROID && sys.isNative) {\n            native.reflection.callStaticMethod(\"com/lotogram/tbjdwc/mvvm/ui/activity/TuibiDevicesActivity\", \"setSound\", \"(Z)V\", pusher.soundStatus);\n        }\n    }\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}