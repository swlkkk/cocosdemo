{"version":3,"sources":["file:///Users/swl/Desktop/cocos/cocos_tbjdwc/assets/scripts/autoDropTs.ts"],"names":["_decorator","Component","Label","color","coinCreate","popcontrol","ccclass","property","autoDropTs","start","changeAutoSt","ccsPu","node","parent","getComponent","userCoins","price","getChildByName","active","controlBalance","winning","autoStatus","autoTips","setTimeout","outlineColor","speedLabel","string","autoSpeed","autoSwitch","clearAutoStatus","changeSpeed","ce","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Label, color } from 'cc';\nimport { coinCreate } from './coinCreate';\nimport { popcontrol } from './popcontrol';\nconst { ccclass, property } = _decorator;\n\n@ccclass('autoDropTs')\nexport class autoDropTs extends Component {\n    @property(Label)\n    public speedLabel: Label | null = null;\n    start() {\n\n    }\n\n    changeAutoSt() {\n        var ccsPu = this.node.parent.parent.parent.parent\n        if(ccsPu.getComponent(coinCreate).userCoins < ccsPu.getComponent(coinCreate).price) {\n            if (this.node.parent.parent.getChildByName('pop_node').getChildByName('balance_node').active == false) {\n                this.node.parent.parent.getChildByName('pop_node').getComponent(popcontrol).controlBalance(true)\n            }\n            return\n        }\n        if (ccsPu.getComponent(coinCreate).winning) return\n        if (!ccsPu.getComponent(coinCreate).autoStatus) {\n            ccsPu.getComponent(coinCreate).autoStatus = true\n            if (!ccsPu.getComponent(coinCreate).autoTips) {\n                ccsPu.getComponent(coinCreate).autoTips = true\n                this.node.getChildByName('auto_tips_node').active = true\n                setTimeout(() => {\n                    this.node.getChildByName('auto_tips_node').active = false\n                }, 2000);\n            }\n            this.node.getChildByName('auto_switch').active = false\n            this.node.getChildByName('auto_label').getComponent(Label).outlineColor = color(215, 116, 0)\n            this.node.getChildByName('auto_switch-on').active = true\n            this.node.parent.getChildByName('drop_count').active = false\n            this.node.parent.getChildByName('drop_btn').active = false\n            this.node.parent.getChildByName('drop_btn_auto').active = true\n            this.speedLabel.string = 'x' + ccsPu.getComponent(coinCreate).autoSpeed\n            this.node.getChildByName('auto_speed_node').active = true\n            ccsPu.getComponent(coinCreate).autoSwitch()\n        } else {\n            ccsPu.getComponent(coinCreate).autoStatus = false\n            this.node.getChildByName('auto_switch').active = true\n            this.node.getChildByName('auto_switch-on').active = false\n            this.node.parent.getChildByName('drop_count').active = true\n            this.node.parent.getChildByName('drop_btn').active = true\n            this.node.parent.getChildByName('drop_btn_auto').active = false\n            this.node.getChildByName('auto_speed_node').active = false\n            this.node.getChildByName('auto_label').getComponent(Label).outlineColor = color(0, 0, 0)\n            ccsPu.getComponent(coinCreate).autoSwitch()\n        }\n    }\n\n    clearAutoStatus() {\n        this.node.getChildByName('auto_switch').active = true\n        this.node.getChildByName('auto_switch-on').active = false\n        this.node.parent.getChildByName('drop_count').active = true\n        this.node.parent.getChildByName('drop_btn').active = true\n        this.node.parent.getChildByName('drop_btn_auto').active = false\n        this.node.getChildByName('auto_speed_node').active = false\n    }\n\n    changeSpeed() {\n        var ce = this.node.parent.parent.parent.parent.getComponent(coinCreate)\n        if (ce.winning) return\n        if (this.speedLabel.string == 'x1') {\n            this.speedLabel.string = 'x2'\n            ce.autoSpeed = 2\n            ce.autoSwitch(ce.autoSpeed)\n        } else if (this.speedLabel.string == 'x2') {\n            this.speedLabel.string = 'x3'\n            ce.autoSpeed = 3\n            ce.autoSwitch(ce.autoSpeed)\n        } else {\n            this.speedLabel.string = 'x1'\n            ce.autoSpeed = 1\n            ce.autoSwitch(ce.autoSpeed)\n        }\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}