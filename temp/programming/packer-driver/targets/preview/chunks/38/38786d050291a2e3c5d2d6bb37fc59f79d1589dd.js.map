{"version":3,"sources":["file:///Users/swl/Desktop/cocos/cocos_android1/assets/scripts/xmlts.ts"],"names":["_decorator","Component","Sprite","resources","SpriteFrame","instantiate","Label","xmlAnim","lxts","machine","flashPicts","labelts","i18n","ccclass","property","xmlts","itemSpritePathArray","startIndex","stopTime","rollingTimer","stopPos","isover","resultarr","xmloutArr","xmlscore","onLoad","forEach","spritePath","preload","load","i","err","asset","girds","spriteFrame","start","toRoll","pos","xmlanim","node","getChildByName","getComponent","switchOne","switchThree","setTimeout","rotatePrize","getToStop","clearTimeout","mcts","parent","active","lxshow","lxItem","setPosition","addChild","string","t","score","score1","retunxmlScore","switchTwo","flashPic","flashLabel","doFlashThree","dolabelThree","splice","clearxml","length","index","fillter","number","toString","type","Number","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Sprite, resources, SpriteFrame, instantiate, Label } from 'cc';\nconst { ccclass, property } = _decorator;\nimport { xmlAnim } from './xmlAnim';\nimport { lxts } from './lxts';\nimport { machine } from './machine';\nimport { flashPicts } from './flashPicts';\nimport { labelts } from './labelts';\nimport * as i18n from 'db://i18n/LanguageData';\n\n@ccclass('xmlts')\nexport class xmlts extends Component {\n    @property(Sprite)\n    girds: Sprite[] = [];\n    itemSpritePathArray = [\n        \"xml/03UI_16Circular_9\", // out\n        \"xml/03UI_16Circular_1\", // 鞋子\n        \"xml/03UI_16Circular_2\", // 箭靶\n        \"xml/03UI_16Circular_3\", // 喇叭\n        \"xml/03UI_16Circular_4\", // 球\n        \"xml/03UI_16Circular_5\", // 蛋糕\n        \"xml/03UI_16Circular_9\", // out\n        \"xml/03UI_16Circular_6\", // 马戏团\n        \"xml/03UI_16Circular_7\", // 独轮车\n        \"xml/03UI_16Circular_8\", // 气球\n        \"xml/03UI_16Circular_9\", // out\n        \"xml/03UI_16Circular_1\", // 鞋子\n        \"xml/03UI_16Circular_2\", // 箭靶\n        \"xml/03UI_16Circular_3\", // 喇叭\n        \"xml/03UI_16Circular_4\", // 球\n        \"xml/03UI_16Circular_5\", // 蛋糕\n        \"xml/03UI_16Circular_9\", // out\n        \"xml/03UI_16Circular_6\", // 马戏团\n        \"xml/03UI_16Circular_7\", // 独轮车\n        \"xml/03UI_16Circular_8\", // 气球\n    ]\n    public startIndex: number = 0\n    public stopTime: number = 300; //setTimeout时间间隔，控制速度\n    public rollingTimer: any = null;\n    public stopPos: number = -1; // 抽奖结果的位置\n    public isover: boolean = false;\n    public resultarr: any = []; // 结果数组\n    xmloutArr: Array<SpriteFrame> = []\n    xmlscore = 0\n    protected onLoad(): void {\n        // 预加载资源\n        this.itemSpritePathArray.forEach((spritePath) => {\n            resources.preload(spritePath, SpriteFrame)\n        })\n        for (let i = 0; i < 20; i++) {\n            resources.load(this.itemSpritePathArray[i], SpriteFrame, (err, asset) => {\n                if(i == 0) {\n                    this.girds[i].spriteFrame = asset\n                }\n                this.xmloutArr[i] = asset\n            })\n        }\n    }\n\n    start() {\n    }\n\n    toRoll(pos) {\n        let xmlanim = this.node.getChildByName('xmlAnim').getComponent(xmlAnim)\n        xmlanim.switchOne(false)\n        xmlanim.switchThree(1, true)\n        if (this.stopTime > 50) {\n            this.stopTime -= 30;\n        }\n        this.rollingTimer = setTimeout(() => {\n            this.rotatePrize(pos)\n            if (this.stopPos === -1) {\n                this.toRoll(this.startIndex % 20);\n                this.startIndex++\n            } else {\n                this.getToStop(pos);\n            }\n        }, this.stopTime);\n    }\n    getToStop(pos) {\n        if (this.stopTime < 100) {\n            this.stopTime += 25;\n        } else {\n            this.stopTime = 30;\n        }\n        if (pos !== this.stopPos) {\n            // 不是当前奖品\n            this.rollingTimer = setTimeout(() => {\n                this.rotatePrize(pos)\n                this.getToStop(this.startIndex % 20)\n                this.startIndex++\n            }, this.stopTime);\n        } else if (pos === this.stopPos) {\n            setTimeout(() => {\n                this.rotatePrize(pos)\n                if (this.stopPos == 0 || this.stopPos == 6 || this.stopPos == 10 || this.stopPos == 16) {\n                    // 转到out结束游戏\n                    this.isover = true\n                    clearTimeout(this.rollingTimer)\n                    let xmlanim = this.node.getChildByName('xmlAnim').getComponent(xmlAnim)\n                    xmlanim.switchThree(1, false)\n                    xmlanim.switchThree(2, true)\n\n                    let mcts = this.node.parent.getChildByName('Machine').getComponent(machine)\n                    if (this.node.parent.getChildByName('lxshow') != null) {\n                        this.node.parent.getChildByName('lxshow').active = true\n                    } else {\n                        // 生成获奖展示界面\n                        let lxshow = instantiate(mcts.lxItem)\n                        lxshow.setPosition(-345.051, -597.314, 26.08)\n                        this.node.parent.addChild(lxshow)\n                    }\n                    this.node.parent.getChildByName('bottom_fun').getChildByName('drop_btn').getChildByName('count_label').getComponent(Label).string = i18n.t('cocos.tyc')\n                    this.node.parent.getChildByName('lxshow').getComponent(lxts).score = this.xmlscore\n                    this.node.parent.getChildByName('lxshow').getComponent(lxts).score1 = this.xmlscore\n                } else {\n                    let xmlanim = this.node.getChildByName('xmlAnim').getComponent(xmlAnim)\n                    this.retunxmlScore(pos)\n                    xmlanim.switchThree(1, false)\n                    xmlanim.switchTwo(true)\n                    // 闪屏图片\n                    let flashPic = this.node.parent.getChildByName('flashNode').getComponent(flashPicts)\n                    // 闪屏数字\n                    let flashLabel = this.node.parent.getChildByName('labels').getComponent(labelts)\n                    if (pos == 1 || pos == 11) {\n                        flashPic.doFlashThree(0)\n                        flashLabel.dolabelThree(0)\n                    } else if (pos == 2 || pos == 12) {\n                        flashPic.doFlashThree(1)\n                        flashLabel.dolabelThree(1)\n                    } else if (pos == 3 || pos == 13) {\n                        flashPic.doFlashThree(2)\n                        flashLabel.dolabelThree(2)\n                    } else if (pos == 4 || pos == 14) {\n                        flashPic.doFlashThree(3)\n                        flashLabel.dolabelThree(3)\n                    } else if (pos == 5 || pos == 15) {\n                        flashPic.doFlashThree(4)\n                        flashLabel.dolabelThree(4)\n                    } else if (pos == 7 || pos == 17) {\n                        flashPic.doFlashThree(5)\n                        flashLabel.dolabelThree(5)\n                    } else if (pos == 8 || pos == 18) {\n                        flashPic.doFlashThree(6)\n                        flashLabel.dolabelThree(6)\n                    } else if (pos == 9 || pos == 19) {\n                        flashPic.doFlashThree(7)\n                        flashLabel.dolabelThree(7)\n                    }\n                    setTimeout(() => {\n                        this.stopTime = 300\n                        this.rollingTimer = null\n                        this.resultarr.splice(0, 1)\n                        this.stopPos = -1\n                        this.toRoll(this.startIndex % 20)\n                        xmlanim.switchThree(1, true)\n                        xmlanim.switchTwo(false)\n                        setTimeout(() => {\n                            this.stopPos = this.resultarr[0]\n                        }, 3000);\n                    }, 1000);\n                }\n            }, this.stopTime)\n        }\n    }\n\n    // 清除存储数据\n    clearxml() {\n        this.isover = false\n        this.startIndex = 0\n        this.stopTime = 300\n        this.rollingTimer = null\n        this.stopPos = -1\n        this.resultarr = []\n        this.xmlscore = 0\n        this.node.getChildByName('xmlscore').getComponent(Label).string = '00000'\n        for (let i = 0; i < this.girds.length; i++) {\n            if (i == 0) {\n                this.girds[i].spriteFrame = this.xmloutArr[i]\n            } else {\n                this.girds[i].spriteFrame = null\n            }\n        }\n    }\n\n    // 控制图片显示隐藏\n    rotatePrize(index) {\n        for (let i = 0; i < this.girds.length; i++) {\n            if (i === index) {\n                this.girds[index].spriteFrame = this.xmloutArr[i]\n            } else {\n                this.girds[i].spriteFrame = null\n            }\n        }\n    }\n\n    fillter(number: number) {\n        if (number < 10) {\n            return '0000' + number.toString()\n        } else if (number >= 10 && number < 100) {\n            return '000' + number.toString()\n        } else if (number >= 100 && number < 1000) {\n            return '00' + number.toString()\n        } else if (number >= 1000 && number < 10000) {\n            return '0' + number.toString()\n        } else if (number >= 10000) {\n            return number.toString()\n        }\n    }\n\n    retunxmlScore(type: number) {\n        if (type == 1 || type == 11) {\n            this.xmlscore = this.xmlscore + Number(this.node.parent.getChildByName('labels').getChildByName('winLabel1').getComponent(Label).string)\n            this.node.getChildByName('xmlscore').getComponent(Label).string = this.fillter(this.xmlscore)\n        } else if (type == 2 || type == 12) {\n            this.xmlscore = this.xmlscore + Number(this.node.parent.getChildByName('labels').getChildByName('winLabel2').getComponent(Label).string)\n            this.node.getChildByName('xmlscore').getComponent(Label).string = this.fillter(this.xmlscore)\n        } else if (type == 3 || type == 13) {\n            this.xmlscore = this.xmlscore + Number(this.node.parent.getChildByName('labels').getChildByName('winLabel3').getComponent(Label).string)\n            this.node.getChildByName('xmlscore').getComponent(Label).string = this.fillter(this.xmlscore)\n        } else if (type == 4 || type == 14) {\n            this.xmlscore = this.xmlscore + Number(this.node.parent.getChildByName('labels').getChildByName('winLabel4').getComponent(Label).string)\n            this.node.getChildByName('xmlscore').getComponent(Label).string = this.fillter(this.xmlscore)\n        } else if (type == 5 || type == 15) {\n            this.xmlscore = this.xmlscore + Number(this.node.parent.getChildByName('labels').getChildByName('winLabel5').getComponent(Label).string)\n            this.node.getChildByName('xmlscore').getComponent(Label).string = this.fillter(this.xmlscore)\n        } else if (type == 7 || type == 17) {\n            this.xmlscore = this.xmlscore + Number(this.node.parent.getChildByName('labels').getChildByName('winLabel6').getComponent(Label).string)\n            this.node.getChildByName('xmlscore').getComponent(Label).string = this.fillter(this.xmlscore)\n        } else if (type == 8 || type == 18) {\n            this.xmlscore = this.xmlscore + Number(this.node.parent.getChildByName('labels').getChildByName('winLabel7').getComponent(Label).string)\n            this.node.getChildByName('xmlscore').getComponent(Label).string = this.fillter(this.xmlscore)\n        } else if (type == 9 || type == 19) {\n            this.xmlscore = this.xmlscore + Number(this.node.parent.getChildByName('labels').getChildByName('winLabel8').getComponent(Label).string)\n            this.node.getChildByName('xmlscore').getComponent(Label).string = this.fillter(this.xmlscore)\n        }\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n\n"]}