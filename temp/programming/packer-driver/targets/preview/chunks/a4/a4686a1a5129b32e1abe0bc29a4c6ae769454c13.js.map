{"version":3,"sources":["file:///Users/swl/Desktop/cocos/cocos_android1/assets/scripts/popcontrol.ts"],"names":["_decorator","Component","native","game","sys","settleTs","awardCl","coinCreate","chargList","ccclass","property","popcontrol","popNum","start","controlBalance","type","surplus","node","getChildByName","active","controlCharge","controlQuite","parent","getComponent","closeOut","controlTime","controlSettle","openTimeOut","clearData","os","OS","ANDROID","isNative","releaseAny","setTimeout","end","clearAllNode","arr","JSON","parse","reflection","callStaticMethod","creation","controlRule","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, director, Label, Node, native, game, sys, assetManager } from 'cc';\nimport { settleTs } from './settleTs';\nimport { awardCl } from './awardCl';\nimport { coinCreate } from './coinCreate';\nimport { chargList } from './chargList';\nconst { ccclass, property } = _decorator;\n\n@ccclass('popcontrol')\nexport class popcontrol extends Component {\n    popNum = 0\n    start() {\n    }\n\n    controlBalance(type: boolean, surplus?: string) {\n        if (surplus != null) {\n            if (surplus == 'false') {\n                this.popNum--;\n                this.node.getChildByName('balance_node').active = false\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n            } else {\n                this.popNum--;\n                this.node.getChildByName('balance_node').active = false\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n                this.controlCharge(true)\n            }\n        } else {\n            if (type) {\n                this.popNum++;\n                this.node.getChildByName('balance_node').active = true\n                this.node.active = true\n            } else {\n                this.popNum--;\n                this.node.getChildByName('balance_node').active = false\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n            }\n        }\n    }\n    controlQuite(type: boolean, surplus?: string) {\n        if (surplus != null) {\n            if (surplus == 'false') {\n                this.popNum--;\n                this.node.getChildByName('quite_node').active = false\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n            } else if (surplus == 'next') {\n                this.popNum--;\n                this.node.getChildByName('quite_node').active = false\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n                this.node.parent.parent.parent.getComponent(coinCreate).closeOut()\n            }\n        } else {\n            if (type) {\n                this.popNum++;\n                this.node.getChildByName('quite_node').active = true\n                this.node.active = true\n            } else {\n                this.popNum--;\n                this.node.getChildByName('quite_node').active = false\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n            }\n        }\n    }\n    controlTime(type: boolean, surplus?: string) {\n        if (surplus != null) {\n            if (surplus == 'false') {\n                this.popNum--;\n                this.node.getChildByName('time_node').active = false\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n                this.node.parent.parent.parent.getComponent(coinCreate).closeOut()\n            }\n        } else {\n            if (type) {\n                this.popNum++;\n                this.node.getChildByName('time_node').active = true\n                this.node.active = true\n            } else {\n                this.popNum--;\n                this.node.getChildByName('time_node').active = false\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n            }\n        }\n    }\n    controlSettle(type: boolean) {\n        if (type) {\n            this.popNum++;\n            this.node.getChildByName('settle_node').active = true\n            this.node.getChildByName('settle_node').getComponent(settleTs).openTimeOut()\n            this.node.active = true\n        } else {\n            this.popNum--;\n            this.node.getChildByName('settle_node').active = false\n            if (this.popNum == 0) {\n                this.node.active = false\n            }\n            this.node.getChildByName('settle_node').getChildByName('symbol_node').getChildByName('award_node').getComponent(awardCl).clearData()\n            if (sys.os == sys.OS.ANDROID && sys.isNative) {\n                this.node.parent.parent.parent.getComponent(coinCreate).releaseAny()\n                this.node.parent.parent.parent.active = false;\n                this.node.parent.parent.parent.parent.getChildByName('GameOver').active = true\n                setTimeout(() => {\n                    game.end();\n                }, 1500);\n            } else {\n                game.end()\n            }\n        }\n    }\n    controlCharge(type: boolean, surplus?: string) {\n        if (surplus != null) {\n            if (surplus == 'false') {\n                this.popNum--;\n                this.node.getChildByName('charge_node').active = false\n                this.node.getChildByName('charge_node').getChildByName('ScrollView').getChildByName('view').getChildByName('content').getComponent(chargList).clearAllNode()\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n            }\n        } else {\n            if (type) {\n                if (sys.os == sys.OS.ANDROID && sys.isNative) {\n                    this.popNum++;\n                    let arr = JSON.parse(native.reflection.callStaticMethod(\"com/lotogram/tbjdwc/mvvm/ui/activity/TuibiDevicesActivity\", \"getProducts\", \"()Ljava/lang/String;\"));\n                    this.node.getChildByName('charge_node').getChildByName('ScrollView').getChildByName('view').getChildByName('content').getComponent(chargList).creation(arr)\n                    this.node.getChildByName('charge_node').active = true\n                    this.node.active = true\n                }\n            } else {\n                this.popNum--;\n                this.node.getChildByName('charge_node').active = false\n                this.node.getChildByName('charge_node').getChildByName('ScrollView').getChildByName('view').getChildByName('content').getComponent(chargList).clearAllNode()\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n            }\n        }\n    }\n    controlRule(type: boolean, surplus?: string) {\n        if (surplus != null) {\n            if (surplus == 'false') {\n                this.popNum--;\n                this.node.getChildByName('rule_node').active = false\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n            }\n        } else {\n            if (type) {\n                this.popNum++;\n                this.node.getChildByName('rule_node').active = true\n                this.node.active = true\n            } else {\n                this.popNum--;\n                this.node.getChildByName('rule_node').active = false\n                if (this.popNum == 0) {\n                    this.node.active = false\n                }\n            }\n        }\n    }\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}