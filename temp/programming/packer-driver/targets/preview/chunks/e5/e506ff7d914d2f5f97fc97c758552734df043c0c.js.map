{"version":3,"sources":["file:///Users/swl/Downloads/cocosPusher/assets/scripts/itemTemplate.ts"],"names":["_decorator","Component","Node","Sprite","Label","resources","SpriteFrame","native","sys","i18n","ccclass","property","itemTemplate","goldSpritePath","start","init","data","suffix","chdata","os","OS","ANDROID","isNative","fee","load","err","sprite","chargeIcon","spriteFrame","IOS","OSX","subtype","dayFree","active","freeLab","priceLab","string","t","coins","botPrice","czLab","Math","trunc","bonus","googlePrice","localFee","czfl","goProduct","reflection","callStaticMethod","JSON","stringify","bridge","sendToNative","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Sprite, Label, resources, SpriteFrame, native, sys } from 'cc';\nconst { ccclass, property } = _decorator;\nimport * as i18n from 'db://i18n/LanguageData';\n\n@ccclass('itemTemplate')\nexport class itemTemplate extends Component {\n    @property(Sprite)\n    public chargeIcon: Sprite | null = null;\n    @property(Node)\n    public freeLab: Node | null = null;\n    @property(Node)\n    public dayFree: Node | null = null;\n    @property(Node)\n    public czfl: Node | null = null;\n    @property(Label)\n    public czLab: Label | null = null;\n    @property(Label)\n    public priceLab: Label | null = null;\n    @property(Label)\n    public botPrice: Label | null = null;\n    @property\n    public chdata = null;\n\n    goldSpritePath = [\n        'img_shop_gold01/spriteFrame',\n        'img_shop_gold02/spriteFrame',\n        'img_shop_gold03/spriteFrame',\n        'img_shop_gold04/spriteFrame',\n        'img_shop_gold05/spriteFrame',\n        'img_shop_gold06/spriteFrame',\n    ]\n    start() {\n    }\n\n    init(data: any, suffix: number) {\n        this.chdata = data\n        if (sys.os == sys.OS.ANDROID && sys.isNative) {\n            if (data.fee < 60) {\n                resources.load(this.goldSpritePath[0], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            } else if (data.fee < 100) {\n                resources.load(this.goldSpritePath[1], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            } else if (data.fee < 200) {\n                resources.load(this.goldSpritePath[2], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            } else if (data.fee < 500) {\n                resources.load(this.goldSpritePath[3], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            } else if (data.fee < 1000) {\n                resources.load(this.goldSpritePath[4], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            } else {\n                resources.load(this.goldSpritePath[5], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            }\n        } else if (sys.isNative && (sys.os == sys.OS.IOS || sys.os == sys.OS.OSX)) {\n            if (suffix == 0) {\n                resources.load(this.goldSpritePath[0], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            } else if (suffix == 1) {\n                resources.load(this.goldSpritePath[1], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            } else if (suffix == 2) {\n                resources.load(this.goldSpritePath[2], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            } else if (suffix == 3) {\n                resources.load(this.goldSpritePath[3], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            } else if (suffix == 4) {\n                resources.load(this.goldSpritePath[4], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            } else {\n                resources.load(this.goldSpritePath[5], SpriteFrame, (err, sprite) => {\n                    this.chargeIcon.spriteFrame = sprite\n                });\n            }\n        }\n        if (data.subtype == 1) {\n            this.dayFree.active = true\n            this.freeLab.active = true\n            this.priceLab.string = i18n.t('cocos.jbx') + data.coins\n            this.botPrice.string = i18n.t('cocos.mflq')\n        } else {\n            if (sys.os == sys.OS.ANDROID && sys.isNative) {\n                this.czLab.string = Math.trunc((data.coins + (data.bonus ? data.bonus : 0)) / 10 / data.fee * 100) + '%'\n                this.botPrice.string = data.googlePrice\n            } else if (sys.isNative && (sys.os == sys.OS.IOS || sys.os == sys.OS.OSX)) {\n                this.czLab.string = Math.trunc(data.coins / 10 / (data.fee * 7) * 100) + '%'\n                this.botPrice.string = data.localFee\n            }\n            this.czfl.active = true\n            this.priceLab.string = i18n.t('cocos.jbx') + data.coins\n        }\n    }\n    goProduct() {\n        if (sys.os == sys.OS.ANDROID && sys.isNative) {\n            native.reflection.callStaticMethod(\"com/lotogram/tbjdwc/mvvm/ui/activity/TuibiDevicesActivity\", \"onProductItemClick\", \"(Ljava/lang/String;)V\", JSON.stringify(this.chdata))\n        } else if (sys.isNative && (sys.os == sys.OS.IOS || sys.os == sys.OS.OSX)) {\n            native.bridge.sendToNative('native_onProductItemClick', JSON.stringify(this.chdata));\n        }\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}